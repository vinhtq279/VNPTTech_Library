{"ast":null,"code":"var _jsxFileName = \"/home/vinhtq/Dev/Library-Management-System/frontend/src/components/Issue/Issue.js\";\nimport React from 'react';\nimport './Issue.css';\n\nclass Books extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      header: /*#__PURE__*/React.createElement(\"thead\", {\n        id: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 7,\n          columnNumber: 17\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 8,\n          columnNumber: 21\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 9,\n          columnNumber: 25\n        }\n      }, \"Book Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 10,\n          columnNumber: 25\n        }\n      }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 11,\n          columnNumber: 25\n        }\n      }, \"Introduction\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 12,\n          columnNumber: 25\n        }\n      }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 13,\n          columnNumber: 4\n        }\n      }))),\n      books: []\n    };\n\n    this.fetchData = () => {\n      this.setState({\n        header: /*#__PURE__*/React.createElement(\"thead\", {\n          id: \"header\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 20,\n            columnNumber: 32\n          }\n        }, /*#__PURE__*/React.createElement(\"tr\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 21,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 22,\n            columnNumber: 29\n          }\n        }, \"Book Name\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 23,\n            columnNumber: 29\n          }\n        }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 24,\n            columnNumber: 29\n          }\n        }, \"Introduction\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 25,\n            columnNumber: 8\n          }\n        }, \"Image\"), /*#__PURE__*/React.createElement(\"th\", {\n          scope: \"col\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 26,\n            columnNumber: 29\n          }\n        }))),\n        books: []\n      });\n      fetch(`/api/getBooks/1`).then(res => res.json()).then(books => books.forEach(el => this.setState({\n        books: [...this.state.books, /*#__PURE__*/React.createElement(\"tr\", {\n          key: el.id,\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 37,\n            columnNumber: 33\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 38,\n            columnNumber: 37\n          }\n        }, el.name.toUpperCase()), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 39,\n            columnNumber: 37\n          }\n        }, el.author), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 40,\n            columnNumber: 37\n          }\n        }, el.introduction), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 9\n          }\n        }, /*#__PURE__*/React.createElement(\"img\", {\n          src: el.image,\n          alt: \"No\",\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 41,\n            columnNumber: 13\n          }\n        })), /*#__PURE__*/React.createElement(\"td\", {\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 37\n          }\n        }, /*#__PURE__*/React.createElement(\"button\", {\n          className: \"btn btn-primary\",\n          onClick: () => this.issueIt(el),\n          __self: this,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 42,\n            columnNumber: 41\n          }\n        }, \"Issue\")))]\n      })));\n    };\n\n    this.issueIt = el => {\n      fetch('/api/borrow', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ ...el,\n          sid: 'anything'\n        })\n      });\n      /*.then(res => {\r\n           fetch('/api/borrowed')\r\n           .then(res => res.json())\r\n           .then(e => console.log(e));\r\n      });*/\n    };\n  }\n\n  async componentDidMount() {\n    await fetch(\"/api/getBooks\").then(res => res.json()).then(books => {\n      books.map(el => {\n        console.log(`el.count is: ${el.count}`);\n\n        if (el.count > 0) {\n          this.setState({\n            books: [...this.state.books, /*#__PURE__*/React.createElement(\"tr\", {\n              key: el.id,\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 57,\n                columnNumber: 37\n              }\n            }, /*#__PURE__*/React.createElement(\"td\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 58,\n                columnNumber: 41\n              }\n            }, el.name.toUpperCase()), /*#__PURE__*/React.createElement(\"td\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 59,\n                columnNumber: 41\n              }\n            }, el.author), /*#__PURE__*/React.createElement(\"td\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 60,\n                columnNumber: 41\n              }\n            }, el.introduction), /*#__PURE__*/React.createElement(\"td\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 41\n              }\n            }, /*#__PURE__*/React.createElement(\"img\", {\n              src: el.image,\n              alt: \"No\",\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 61,\n                columnNumber: 45\n              }\n            })), /*#__PURE__*/React.createElement(\"td\", {\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 6\n              }\n            }, /*#__PURE__*/React.createElement(\"button\", {\n              className: \"btn btn-primary\",\n              onClick: () => this.issueIt(el),\n              __self: this,\n              __source: {\n                fileName: _jsxFileName,\n                lineNumber: 62,\n                columnNumber: 10\n              }\n            }, \"Issue\")))]\n          });\n        }\n\n        return el;\n      });\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"issue\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"results\",\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }\n    }, this.state.header, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 21\n      }\n    }, this.state.books)));\n  }\n\n}\n\nexport default Books;","map":{"version":3,"sources":["/home/vinhtq/Dev/Library-Management-System/frontend/src/components/Issue/Issue.js"],"names":["React","Books","Component","state","header","books","fetchData","setState","fetch","then","res","json","forEach","el","id","name","toUpperCase","author","introduction","image","issueIt","method","headers","body","JSON","stringify","sid","componentDidMount","map","console","log","count","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Issue.css';\r\n\r\nclass Books extends React.Component {\r\n    \r\n    state = {\r\n        header: <thead id=\"header\">\r\n                    <tr>\r\n                        <th scope=\"col\">Book Name</th>\r\n                        <th scope=\"col\">Author</th>\r\n                        <th scope=\"col\">Introduction</th>\r\n                        <th scope=\"col\">Image</th>\r\n\t\t\t<th scope=\"col\"></th>\r\n                    </tr>\r\n                </thead>,\r\n        books: []\r\n    };\r\n\r\n    fetchData = () => {\r\n        this.setState({header: <thead id=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\">Book Name</th>\r\n                            <th scope=\"col\">Author</th>\r\n                            <th scope=\"col\">Introduction</th>\r\n\t\t\t    <th scope=\"col\">Image</th>\r\n                            <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>,\r\n            books: []});\r\n\r\n        fetch(`/api/getBooks/1`)\r\n            .then(res => res.json())\r\n            .then(books =>\r\n                books.forEach(\r\n                    el => this.setState({\r\n                        books: [...this.state.books, \r\n                                <tr key={el.id}>\r\n                                    <td>{el.name.toUpperCase()}</td>\r\n                                    <td>{el.author}</td>\r\n                                    <td>{el.introduction}</td>\r\n\t\t\t\t    <td><img src={el.image} alt=\"No\" /></td>\r\n                                    <td><button className=\"btn btn-primary\" onClick={() => this.issueIt(el)}>Issue</button></td>\r\n                                </tr>]\r\n                    })));\r\n    }\r\n    \r\n    async componentDidMount() {\r\n        await fetch(\"/api/getBooks\")\r\n            .then(res => res.json())\r\n            .then(books => {\r\n                books.map(\r\n                    el => {\r\n                        console.log(`el.count is: ${el.count}`);\r\n                        if(el.count > 0) {\r\n                            this.setState({\r\n                                books: [...this.state.books, \r\n                                    <tr key={el.id}>\r\n                                        <td>{el.name.toUpperCase()}</td>\r\n                                        <td>{el.author}</td>\r\n                                        <td>{el.introduction}</td>\r\n                                        <td><img src={el.image} alt=\"No\"/></td>\r\n\t\t\t\t\t<td><button className=\"btn btn-primary\" onClick={() => this.issueIt(el)}>Issue</button></td>\r\n                                    </tr>]\r\n                            })\r\n                        }\r\n                        return el;\r\n                    })\r\n            });\r\n    }\r\n\r\n    issueIt = el => {\r\n        fetch('/api/borrow', {\r\n                method: 'post',\r\n                headers: {'Content-Type':'application/json'},\r\n                body: JSON.stringify({\r\n                    ...el,\r\n                    sid: 'anything'\r\n                })\r\n           });\r\n           /*.then(res => {\r\n                fetch('/api/borrowed')\r\n                .then(res => res.json())\r\n                .then(e => console.log(e));\r\n           });*/\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='issue' className=\"text-center\">\r\n                <table id=\"results\" className=\"table table-hover\">\r\n                    {this.state.header}\r\n                    <tbody>\r\n                        {this.state.books}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default Books;\r\n"]},"metadata":{},"sourceType":"module"}