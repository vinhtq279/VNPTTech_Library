{"ast":null,"code":"var _jsxFileName = \"/home/vinhtq/Dev/Library-Management-System/frontend/src/components/Issuing/Issuing.js\";\nimport React from 'react';\nimport './Issue.css';\n\nclass IssuedBook extends React.Component {\n  constructor() {\n    super(...arguments);\n    this.state = {\n      header: /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 7,\n          columnNumber: 17\n        }\n      }),\n      books: [],\n      name: ''\n    };\n\n    this.issueIt = el => {\n      fetch('/api/borrowed', {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({ ...el,\n          sid: 'anything'\n        })\n      });\n      /*.then(res => {\r\n           fetch('/api/borrowed')\r\n           .then(res => res.json())\r\n           .then(e => console.log(e));\r\n      });*/\n    };\n  }\n\n  //    fetchData = () => {\n  async componentDidMount() {\n    //        var sid = document.getElementById('sid').value;\n    this.setState({\n      header: /*#__PURE__*/React.createElement(\"thead\", {\n        id: \"header\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 15,\n          columnNumber: 32\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 16,\n          columnNumber: 25\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 17,\n          columnNumber: 29\n        }\n      }, \"Book Name\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 18,\n          columnNumber: 29\n        }\n      }, \"Author\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 19,\n          columnNumber: 29\n        }\n      }, \"Issue Date\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 20,\n          columnNumber: 29\n        }\n      }, \"Return Deadline\"), /*#__PURE__*/React.createElement(\"th\", {\n        scope: \"col\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 21,\n          columnNumber: 29\n        }\n      }))),\n      books: []\n    });\n    fetch(`/api/getIssuing`).then(res => res.json()).then(books => {\n      if (books.length > 0) {\n        this.setState({ ...this.state,\n          name: `Books Issued By ${books[0].sname}`\n        });\n        books.forEach(el => this.setState({\n          books: [...this.state.books, /*#__PURE__*/React.createElement(\"tr\", {\n            key: el.id,\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 34,\n              columnNumber: 37\n            }\n          }, /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 35,\n              columnNumber: 41\n            }\n          }, el.name.toUpperCase()), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 36,\n              columnNumber: 41\n            }\n          }, el.author), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 37,\n              columnNumber: 41\n            }\n          }, el.date), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 38,\n              columnNumber: 41\n            }\n          }, el.deadline), /*#__PURE__*/React.createElement(\"td\", {\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 41\n            }\n          }, /*#__PURE__*/React.createElement(\"button\", {\n            className: \"btn btn-primary\",\n            onClick: () => this.issueIt(el),\n            __self: this,\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 39,\n              columnNumber: 45\n            }\n          }, \"Accept\")))]\n        }));\n      } else {\n        this.setState({\n          header: []\n        });\n        this.setState({ ...this.state,\n          name: \"No Books Issued By You\"\n        });\n      }\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      id: \"return\",\n      className: \"text-center\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 69,\n        columnNumber: 13\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 17\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 23\n      }\n    }), this.state.name, /*#__PURE__*/React.createElement(\"table\", {\n      id: \"rResults\",\n      className: \"table table-hover\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 73,\n        columnNumber: 17\n      }\n    }, this.state.header, /*#__PURE__*/React.createElement(\"tbody\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 75,\n        columnNumber: 21\n      }\n    }, this.state.books)));\n  }\n\n}\n\nexport default IssuedBook;","map":{"version":3,"sources":["/home/vinhtq/Dev/Library-Management-System/frontend/src/components/Issuing/Issuing.js"],"names":["React","IssuedBook","Component","state","header","books","name","issueIt","el","fetch","method","headers","body","JSON","stringify","sid","componentDidMount","setState","then","res","json","length","sname","forEach","id","toUpperCase","author","date","deadline","render"],"mappings":"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","sourcesContent":["import React from 'react';\r\nimport './Issue.css';\r\n\r\nclass IssuedBook extends React.Component {\r\n    \r\n    state = {\r\n        header: <thead></thead>,\r\n        books: [],\r\n        name: ''\r\n    };\r\n\r\n//    fetchData = () => {\r\n      async componentDidMount() {\r\n//        var sid = document.getElementById('sid').value;\r\n        this.setState({header: <thead id=\"header\">\r\n                        <tr>\r\n                            <th scope=\"col\">Book Name</th>\r\n                            <th scope=\"col\">Author</th>\r\n                            <th scope=\"col\">Issue Date</th>\r\n                            <th scope=\"col\">Return Deadline</th>\r\n                            <th scope=\"col\"></th>\r\n                        </tr>\r\n                    </thead>,\r\n            books: []});\r\n\r\n        fetch(`/api/getIssuing`)\r\n            .then(res => res.json())\r\n            .then(books => {\r\n                if(books.length > 0) {\r\n                    this.setState({...this.state, name: `Books Issued By ${books[0].sname}`});\r\n                    books.forEach(\r\n                        el => this.setState({\r\n                            books: [...this.state.books, \r\n                                    <tr key={el.id}>\r\n                                        <td>{el.name.toUpperCase()}</td>\r\n                                        <td>{el.author}</td>\r\n                                        <td>{el.date}</td>\r\n                                        <td>{el.deadline}</td>\r\n                                        <td><button className=\"btn btn-primary\" onClick={() => this.issueIt(el)}>Accept</button></td>\r\n                                    </tr>]\r\n                        }))\r\n                }\r\n                else{\r\n                    this.setState({header: []});\r\n                    this.setState({...this.state, name: \"No Books Issued By You\"});\r\n                }\r\n                });\r\n    }\r\n\r\n   issueIt = el => {\r\n        fetch('/api/borrowed', {\r\n                method: 'post',\r\n                headers: {'Content-Type':'application/json'},\r\n                body: JSON.stringify({\r\n                    ...el,\r\n                    sid: 'anything'\r\n                })\r\n           });\r\n           /*.then(res => {\r\n                fetch('/api/borrowed')\r\n                .then(res => res.json())\r\n                .then(e => console.log(e));\r\n           });*/\r\n\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div id='return' className=\"text-center\">\r\n                <div>\r\n                </div><br/>\r\n                {this.state.name}\r\n                <table id=\"rResults\" className=\"table table-hover\">\r\n                    {this.state.header}\r\n                    <tbody>\r\n                        {this.state.books}\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        );\r\n    }\r\n\r\n}\r\n\r\nexport default IssuedBook;\r\n"]},"metadata":{},"sourceType":"module"}